<!--pages/demand/goods_detail.wxml-->
<import src="/pages/template/commons" />
<template is="navigationBarForTwoLevel" data='{{statusBarHeight: statusBarHeight,titleText:"商品详情"}}' />

<view class="container flex-column-center-flex_start theme-container" style='height: calc(100vh - 46px - {{statusBarHeight}}px);'>
  <video class="goods-video" src="{{goods_info.video_url}}"></video>
  <view class='operation flex-row-center-flex_end font_666666_26'>
    <view wx:if="{{goods_info.is_collect==1}}">
      <label class="fa fa-heart fa-lg" style="color: #E11E4C;" bindtap='cancCollect' data-res_id="{{goods_info.goods_id}}" data-type='4' data-openid='{{openid}}'>{{goods_info.collect_num}}</label>
    </view>
    <view wx:else>
      <label class="fa fa-heart-o fa-lg" bindtap='onCollect' data-res_id="{{goods_info.goods_id}}">{{goods_info.collect_num}}</label>
    </view>
    <button class="font_666666_26" open-type='share' data-openid="{{openid}}" data-goods_id="{{goods_info.goods_id}}" data-type='4' data-video_url="{{video_url}}" data-img_url='{{goods_info.pubdetail[0].img_url}}' data-share_num='{{goods_info.share_num}}'>
      <label class="fa fa-share-square-o fa-lg">{{goods_info.share_num}}</label>
    </button>
  </view>
  <scroll-view class="goods-info full_width flex-column-center-flex_start theme-container" scroll-y="true" scroll-with-animation="true">
    <image class="full_width" mode="widthFix" src="{{goods_info.detail_content}}"></image>
  </scroll-view>
  <view class="page-bottom full_width flex-row-center-space_around theme-panel">
    <button class="theme-button-dark" bindtap="boxShow" data-goods_id="{{goods_info.goods_id}}" data-pubdetail="{{goods_info.pubdetail}}" data-media_type="{{goods_info.media_type}}">电视播放</button>
    <navigator bindtap="clickBuyGoods" data-goods_id="{{goods_info.goods_id}}" 
   class="theme-button-buy" target="miniProgram" app-id="{{goods_info.appid}}" path="{{goods_info.jd_url}}">{{goods_info.buybutton}}</navigator>
  </view>
</view>