<!--pages/hotel/order/index.wxml-->
<import src="/pages/template/commons" />
<template is="navigationBarForTwoLevel" data='{{statusBarHeight: statusBarHeight,titleText:"热点投屏"}}' />

<view class='container theme-container'>
	<view class="tab-bar flex-row-center-flex_start theme-font1 theme7">
		<view class="tab all {{order_status == 0 ? 'selecte' :''}}" bindtap="switchTab" data-tab="all" bindtap="swichOrderList" data-order_status="0">全部订单</view>
		<view class="tab pending {{order_status == 1 ? 'selecte' :''}}" bindtap="switchTab" data-tab="pending" bindtap="swichOrderList" data-order_status="1">待处理</view>
		<view class="tab completed {{order_status == 2 ? 'selecte' :''}}" bindtap="switchTab" data-tab="completed" bindtap="swichOrderList" data-order_status="2">已完成</view>
	</view>

	<!-- 全部订单 -->
	<scroll-view wx:if="{{order_status == 0}}" class="scroll-view" scroll-y="true" scroll-with-animation="true" bindscrolltolower="loadMore">
		<view class="list all">

			<view class="row flex-column-center-space_between theme7 bottom-space" wx:for="{{all_order_list}}" wx:key="key" wx:for-item="bean" wx:for-index="index">
				<view class="head flex-row-center-space_between theme-font8">
					<view>{{bean.add_time}}</view>
          <view wx:if="{{bean.status==1}}">待处理</view>
					<view wx:if="{{bean.status==2}}">已完成</view>
				</view>
				<view class="body flex-row-center-space_between">
					<view class="left flex-column-center-flex_start">
						<image bindtap="gotoDishDetail" data-goods_id="{{bean.goods_id}}" class="pic" mode="aspectFill" src="{{bean.goods_img}}"></image>
						<view class="price theme-rad-panel">￥{{bean.price}}</view>
					</view>
					<view class="right flex-column-flex_start-space_between">
						<view class="one-line-overflow theme-font1">{{bean.goods_name}}</view>
						<view class="flex-row-center-flex_start theme-font7">
							<view>{{bean.contact}}</view>
							<view>{{bean.phone}}</view>
						</view>
						<view class="two-line-overflow theme-font7">{{bean.address}}</view>
						<view class="theme-font8">希望送过时间: {{bean.delivery_time}}</view>
					</view>
				</view>
				<view class="foot flex-row-center-space_between">
					<view class="order-number theme-font3">订单号: {{bean.order_id}}</view>
				</view>
			</view>
			
		</view>
	</scroll-view>

	<!-- 待处理订单 -->
	<scroll-view wx:if="{{order_status == 1}}" class="scroll-view" scroll-y="true" scroll-with-animation="true" bindscrolltolower="loadMore">
		<view class="list all">
			<view class="row flex-column-center-space_between theme7 bottom-space" wx:for="{{deal_order_list}}" wx:key="key" wx:for-item="bean" wx:for-index="index">
				<view class="head flex-row-center-space_between theme-font8">
					<view>{{bean.add_time}}</view>
					<view>待处理</view>
				</view>
				<view class="body flex-row-center-space_between">
					<view class="left flex-column-center-flex_start">
						<image class="pic" mode="aspectFill" src="{{bean.goods_img}}"></image>
						<view class="price theme-rad-panel">￥{{bean.price}}</view>
					</view>
					<view class="right flex-column-flex_start-space_between">
						<view class="one-line-overflow theme-font1">{{bean.goods_name}}</view>
						<view class="flex-row-center-flex_start theme-font7">
							<view>{{bean.contact}}</view>
							<view>{{bean.phone}}</view>
						</view>
						<view class="two-line-overflow theme-font7">{{bean.address}}</view>
						<view class="theme-font8">希望送过时间: {{bean.delivery_time}}</view>
					</view>
				</view>
				<view class="foot flex-row-center-space_between">
					<view class="order-number theme-font3">订单号: {{bean.order_id}}</view>
				</view>
			</view>
			
		</view>
	</scroll-view>

	<!-- 已完成订单 -->
	<scroll-view wx:if="{{order_status == 2}}" class="scroll-view" scroll-y="true" scroll-with-animation="true" bindscrolltolower="loadMore">
		<view class="list all">
			<view class="row flex-column-center-space_between theme7 bottom-space" wx:for="{{complete_order_list}}" wx:key="key" wx:for-item="bean" wx:for-index="index">
				<view class="head flex-row-center-space_between theme-font8">
					<view>{{bean.add_time}}</view>
					<view>已完成</view>
				</view>
				<view class="body flex-row-center-space_between">
					<view class="left flex-column-center-flex_start">
						<image class="pic" mode="aspectFill" src="{{bean.goods_img}}"></image>
						<view class="price theme-rad-panel">￥{{bean.price}}</view>
					</view>
					<view class="right flex-column-flex_start-space_between">
						<view class="one-line-overflow theme-font1">{{bean.goods_name}}</view>
						<view class="flex-row-center-flex_start theme-font7">
							<view>{{bean.contact}}</view>
							<view>{{bean.phone}}</view>
						</view>
						<view class="two-line-overflow theme-font7">{{bean.address}}</view>
						<view class="theme-font8">希望送过时间: {{bean.delivery_time}}</view>
					</view>
				</view>
				<view class="foot flex-row-center-space_between">
					<view class="order-number theme-font3">订单号: {{bean.order_id}}</view>
				</view>
			</view>
			
		</view>
	</scroll-view>
</view>